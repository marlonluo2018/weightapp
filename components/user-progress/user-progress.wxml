<!--user-progress.wxml-->
<view class="user-progress">
  <!-- ç”¨æˆ·å¤´åƒå’ŒåŸºæœ¬ä¿¡æ¯ -->
  <view class="user-info">
    <view class="avatar-section">
      <view class="avatar-container">
        <image class="avatar-image" src="{{userInfo.avatar}}" wx:if="{{userInfo.avatar && userInfo.avatar !== 'dev_mock_avatar_selected'}}" mode="aspectFill"></image>
        <view class="avatar-placeholder" wx:else>
          <text class="avatar-emoji">ğŸ‘¤</text>
        </view>
      </view>
    </view>
    <view class="user-details">
      <text class="nickname">{{userInfo.nickname || 'ç”¨æˆ·'}}</text>
      <text class="persistence-days">å¼€å§‹å‡è‚¥è®¡åˆ’{{progress.persistenceDays}}å¤©å•¦</text>
    </view>
    <view class="weight-info">
      <text class="current-weight">{{userInfo.currentWeight || '--'}}kg</text>
    </view>
  </view>

  <!-- é‡Œç¨‹ç¢‘åº†ç¥ -->
  <view class="milestone-celebration" wx:if="{{showMilestone}}">
    <view class="celebration-content">
      <text class="celebration-emoji">ğŸ‰</text>
      <text class="celebration-title">{{milestone.title}}</text>
      <text class="celebration-desc">{{milestone.description}}</text>
      <button class="celebration-btn" bindtap="closeCelebration">å¤ªæ£’äº†ï¼</button>
    </view>
  </view>

  <!-- ä»Šæ—¥æ‰“å¡æ•°æ® -->
  <view class="today-checkin">
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-value">{{todayStats.exerciseMinutes || 0}}</text>
        <text class="stat-label">è¿åŠ¨(åˆ†é’Ÿ)</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{todayStats.dietRecords || 0}}</text>
        <text class="stat-label">é¥®é£Ÿ(é¤æ¬¡)</text>
      </view>
    </view>
    

    <!-- æ¨ªå‘æ’åˆ—çš„æ‰“å¡æŒ‰é’® -->
    <view class="action-buttons">
      <button class="action-btn" bindtap="goToExercise">
        <text class="action-icon">ğŸƒ</text>
        <text class="action-text">è¿åŠ¨æ‰“å¡</text>
      </button>
      <button class="action-btn" bindtap="goToDiet">
        <text class="action-icon">ğŸ½ï¸</text>
        <text class="action-text">é¥®é£Ÿè®°å½•</text>
      </button>
      <button class="action-btn" bindtap="goToWeight">
        <text class="action-icon">âš–ï¸</text>
        <text class="action-text">ä½“é‡è®°å½•</text>
      </button>
    </view>
  </view>

</view>